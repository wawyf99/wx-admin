webpackJsonp([22],{"1z5q":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n("u4nW"),i={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"content-bar"},[n("Form",{attrs:{inline:""}},[n("FormItem",{attrs:{label:"代理ID:","label-width":80,inline:""}},[n("Input",{staticStyle:{width:"180px"},attrs:{placeholder:"请输入代理ID..."},model:{value:t.account_id,callback:function(e){t.account_id=e},expression:"account_id"}})],1),t._v(" "),n("FormItem",{attrs:{"label-width":0}},[n("Button",{attrs:{type:"primary",icon:"ios-search"},on:{click:function(e){t.getList(1)}}},[t._v("查询")]),t._v("\n         \n        "),n("Button",{attrs:{type:"error",icon:"android-close"},on:{click:function(e){t.cleanBox()}}},[t._v("清空")])],1)],1)],1),t._v(" "),n("Table",{attrs:{border:"",columns:t.columns,data:t.list}})],1)},staticRenderFns:[]};var c=function(t){n("QMHm")},r=n("VU/8")(o.a,i,!1,c,null,null);e.default=r.exports},QMHm:function(t,e){},u4nW:function(t,e,n){"use strict";(function(t){e.a={data:function(){var e=this;return{dateTime:"",account_id:"",columns:[{title:"游戏UID",align:"center",key:"userId"},{title:"游戏昵称",align:"center",key:"nickname"},{title:"优惠码",align:"center",render:function(t,e){return 1!=e.row.couponCodeShow?t("InputNumber",{props:{value:e.row.couponCode,step:1,min:1e5,max:999999},on:{"on-change":function(t){e.row.couponCode=t}}}):t("div",e.row.couponCode)}},{title:"绑码时间",key:"bind_time",align:"center"},{title:"操作",align:"center",render:function(n,o){return 1!=o.row.couponCodeShow?n("div",[n("Button",{props:{size:"small"},on:{click:function(){e.$http.get(t.url.operation_check_couponCode,{code:o.row.couponCode}).then(function(t){if(t[0].num<1)return e.$Message.error("该优惠码不存在！"),!1;e.updateCouponCode(o.row.userId,o.row.couponCode)})}}},"确定修改")]):n("div",[n("Button",{props:{size:"small"}},[n("Poptip",{props:{confirm:!0,title:"确定要修改优惠码?",placement:"left"},on:{"on-ok":function(){o.row.couponCodeShow=0}}},"修改优惠码")])])}}],list:[]}},created:function(){},methods:{getList:function(e){var n=this,o=this.dateTime,i=this.account_id,c="",r="",u="";if(!i)return this.$Message.error("代理ID不能为空！"),!1;if(o[0]){var a=new Date(o[0]);c=a.getFullYear()+"-"+(parseInt(a.getMonth())+1)+"-"+a.getDate()}if(o[1]){var s=new Date(o[1]);r=s.getFullYear()+"-"+(parseInt(s.getMonth())+1)+"-"+s.getDate()}"1"==e?u=t.url.survey_direct_team:"2"==e&&(u=t.url.educe_direct_team),this.$http.get(u,{btime:c,etime:r,accountId:i}).then(function(t){"1"==e?n.list=t:-1!=t.indexOf("execl")&&n.$Message.success("导出成功")})},updateCouponCode:function(e,n){var o=this;console.log(e+"-"+n);this.$http.get(t.url.operation_update_Coupon_Code,{account_id:e,coupon_code:n}).then(function(t){o.$Message.success("修改成功"),setTimeout(function(){o.getList(1)},500)})},cleanBox:function(){this.dateTime="",this.account_id=""}}}}).call(e,n("DuR2"))}});
//# sourceMappingURL=22.96c28abaa4bd0e7e4f28.js.map