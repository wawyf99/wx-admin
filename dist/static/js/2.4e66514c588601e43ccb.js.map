{"version":3,"sources":["webpack:///src/views/account/add.vue","webpack:///./src/views/account/add.vue?18a7","webpack:///./src/views/account/add.vue","webpack:///./node_modules/babel-runtime/core-js/json/stringify.js","webpack:///./node_modules/core-js/library/fn/json/stringify.js"],"names":["__webpack_exports__","data","accountId","formItem","account","password","role","nickname","isRoterAlive","roleList","linkList","arrRoleLink","isSubmit","link","created","this","getRole","getLinkList","$route","query","id","getAccount","methods","self","$http","get","global","url","account_find","then","response","roleId","selectLink","o","arrLinkId","_arr","split","find","value","index","linkid","length","role_linklist","result","jsonLink","map","node","item","children","i","includes","key","toString","checked","reload","$nextTick","exists","account_exists","$Message","error","save","name","RegExp","$trim","push","post","account_add","__WEBPACK_IMPORTED_MODULE_1_js_md5___default","roleid","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default","isAdd","msg","success","$router","path","catch","handleReset","handCancel","role_list","itemLink","forEach","parentLinkId","linkId","title","expand","item1","item2","item3","item4","item5","render","_vm","_h","$createElement","_c","_self","_v","_e","attrs","bordered","label-width","model","callback","$$v","expression","label","staticStyle","width","maxlength","type","placeholder","$set","on","on-blur","$event","color","_l","idx","on-change","_s","roleName","ref","refInFor","show-checkbox","click","margin-left","staticRenderFns","Component","__webpack_require__","normalizeComponent","add","module","exports","default","__esModule","core","$JSON","JSON","stringify","it","apply","arguments"],"mappings":"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","file":"static/js/2.4e66514c588601e43ccb.js","sourcesContent":["<!--添加账户-->\r\n<template>\r\n  <div>\r\n    <router-view v-if=\"isRoterAlive\">1</router-view>\r\n    <Card :bordered=\"false\">\r\n      <Form v-model=\"formItem\" :label-width=\"80\">\r\n        <FormItem label=\"用户昵称:\">\r\n          <Input v-model=\"formItem.nickname\" :maxlength=\"20\" type='text' style=\"width: 300px\" placeholder=\"请输入昵称...\"></Input>\r\n        </FormItem>\r\n        <FormItem label=\"登录账户:\">\r\n          <Input v-model=\"formItem.account\" :maxlength=\"20\" @on-blur=\"exists()\" type='text' style=\"width: 300px\" placeholder=\"请输入账号...\"></Input>\r\n        </FormItem>\r\n        <FormItem label=\"登录密码:\" v-if=\"accountId==0\">\r\n          <Input v-model=\"formItem.password\" :maxlength=\"20\" type='password' style=\"width: 300px\" placeholder=\"请输入密码...\"></Input>\r\n          <small  style=\"color:red\">默认为:123456</small>\r\n        </FormItem>\r\n        <FormItem label=\"选择角色:\">\r\n          <RadioGroup v-model=\"formItem.role\" @on-change=\"selectLink()\" v-for=\"(item, idx) in roleList\" :key=\"idx\">\r\n            <Radio :label=\"item.roleId\">{{ item.roleName }}</Radio>\r\n          </RadioGroup>\r\n        </FormItem>\r\n        <FormItem label=\"选择权限:\">\r\n          <Col>\r\n            <FormItem>\r\n              <Card v-for=\"(item, idx) in linkList\" :key=\"idx\" :bordered=\"false\" style=\"width:300px;\">\r\n                <Tree :data=\"item\" ref=\"Tree\" show-checkbox></Tree>\r\n              </Card>\r\n            </FormItem>\r\n          </Col>\r\n        </FormItem>\r\n        <FormItem>\r\n          <Button type=\"primary\" @click=\"save('ruleForm')\">保存</Button>\r\n          <Button type=\"ghost\" @click=\"handCancel\" style=\"margin-left: 8px\">取消</Button>\r\n        </FormItem>\r\n      </Form>\r\n    </Card>\r\n\r\n  </div>\r\n</template>\r\n<script>\r\n  import md5 from \"js-md5\";\r\n  export default {\r\n    data() {\r\n      return {\r\n        accountId: 0,\r\n        formItem: {\r\n          account: \"\",\r\n          password: \"123456\",\r\n          role: \"\",\r\n          nickname: \"\"\r\n        },\r\n        isRoterAlive : true,\r\n        roleList: [], //角色列表\r\n        linkList: [], //链接列表 用于页面操作\r\n        arrRoleLink: [], //角色权限列表->用于角色添加权限或修改角色权限\r\n        isSubmit: true, //是否可以提交表单\r\n        link:[]\r\n      };\r\n    },\r\n    created() {\r\n      this.getRole();\r\n      this.getLinkList();\r\n      //编辑用户\r\n      if (this.$route.query.id) {\r\n        this.accountId = this.$route.query.id;\r\n        this.getAccount();\r\n      }\r\n    },\r\n    methods: {\r\n      //根据用户ID获取用户数据\r\n      getAccount() {\r\n        var self = this;\r\n        self.$http\r\n          .get(global.url.account_find, {\r\n            accountId: self.accountId\r\n          })\r\n          .then(response => {\r\n            self.formItem.account = response.account;\r\n            //self.formItem.password = response.password;\r\n            self.formItem.role = response.roleId;\r\n            self.formItem.nickname = response.nickname;\r\n            self.link = response.link;\r\n            self.selectLink(1);\r\n          });\r\n      },\r\n      //选择角色勾选权限\r\n      selectLink(o) {\r\n        //console.log(o);\r\n        var self = this;\r\n        var arrLinkId = []; //linkId集合\r\n\r\n        if(o){\r\n          //console.log(self.link);\r\n          var _arr = self.link;\r\n          _arr = _arr.split(',');\r\n          arrLinkId = _arr;\r\n        }else{\r\n          //通过roleId查询到该角色下的所有link\r\n          self.roleList.find((value, index) => {\r\n            //console.log(value);\r\n            if (value.roleId == self.formItem.role) {\r\n              arrLinkId = value.linkid.split(\",\");\r\n            }\r\n          });\r\n        }\r\n        if(arrLinkId.length < 1){\r\n          //console.log(2);\r\n          //var _url = window.location.href;\r\n          //window.location.reload();\r\n        }\r\n        //console.log(self.roleList);\r\n        //console.log(arrLinkId);\r\n        //重新获取link\r\n        //console.log(4);\r\n        self.$http.get(global.url.role_linklist).then(result => {\r\n          self.jsonLink(result);\r\n          //循环有多少个1级菜单\r\n          //console.log(self.linkList);\r\n          self.linkList.map(node => {\r\n            //循环2级菜单\r\n            node.map(item => {\r\n              //获取子级\r\n              if (item.children) {\r\n                item.children.map(i => {\r\n                  //角色与全选集合中找到相同的数据.选中已有权限\r\n                  if (arrLinkId.includes(i.key.toString())) {\r\n                    i.checked = true;\r\n                  }\r\n                });\r\n              }\r\n            });\r\n          });\r\n        });\r\n      },\r\n      /*刷新当前页面*/\r\n      reload(){\r\n        this.isRoterAlive = false;\r\n        this.$nextTick(function () {\r\n          this.isRoterAlive = true;\r\n        })\r\n      },\r\n      //验证用户名是否存在\r\n      exists() {\r\n        var self = this;\r\n        if (self.formItem.account != \"\") {\r\n          self.$http\r\n            .get(global.url.account_exists, {\r\n              account: self.formItem.account\r\n            })\r\n            .then(result => {\r\n              if (result && result != null) {\r\n                self.$Message.error(\"账号已存在!\");\r\n                self.isSubmit = false;\r\n              } else {\r\n                self.isSubmit = true;\r\n              }\r\n            });\r\n        }\r\n      },\r\n      //保存用户\r\n      save(name) {\r\n        var self = this;\r\n        var reg = RegExp(\"/(^s*)|(s*$)/g\");\r\n        if (self.$trim(self.formItem.nickname) == \"\") {\r\n          self.$Message.error(\"昵称不能为空!\");\r\n          return false;\r\n        }\r\n        if (self.$trim(self.formItem.account) == \"\") {\r\n          self.$Message.error(\"账号不能为空!\");\r\n          return false;\r\n        }\r\n        if (!self.isSubmit) {\r\n          self.$Message.error(\"账号已存在!\");\r\n          return false;\r\n        }\r\n        if (self.$trim(self.formItem.password) == \"\") {\r\n          self.$Message.error(\"密码不能为空!\");\r\n          return false;\r\n        }\r\n        if (self.formItem.role == \"\") {\r\n          self.$Message.error(\"请选择角色!\");\r\n          return false;\r\n        }\r\n        //循环有多少个1级菜单\r\n        self.linkList.map(node => {\r\n          //循环2级菜单\r\n          node.map(item => {\r\n            //添加一级\r\n            //if (item.checked == true) self.arrRoleLink.push(item.key);\r\n            //获取子级\r\n            if (item.children) {\r\n              item.children.map(i => {\r\n                if (i.checked == true) {\r\n                  //验证是否存在一级\r\n                  //只要勾选了子级默认添加一级\r\n                  if (!self.arrRoleLink.includes(item.key)) {\r\n                    self.arrRoleLink.push(item.key);\r\n                  }\r\n                  if (!self.arrRoleLink.includes(i.key)) {\r\n                    self.arrRoleLink.push(i.key);\r\n                  }\r\n                }\r\n              });\r\n            }\r\n          });\r\n        });\r\n        //console.log(self.arrRoleLink);\r\n        //像后台发起请求\r\n        this.$http\r\n          .post(global.url.account_add, {\r\n            accountId: self.accountId,\r\n            account: self.formItem.account,\r\n            password: md5(self.formItem.password),\r\n            nickname: self.formItem.nickname,\r\n            roleid: self.formItem.role,\r\n            link: JSON.stringify(self.arrRoleLink),\r\n            isAdd: self.accountId == 0 ? true : false\r\n          })\r\n          .then(function(response) {\r\n            let msg = self.accountId == 0 ? \"添加成功!\" : \"修改成功\";\r\n            self.$Message.success(msg);\r\n            self.$router.push({\r\n              path: \"/account\"\r\n            });\r\n          })\r\n          .catch(function(error) {\r\n            self.$Message.error(\"添加失败!\");\r\n          });\r\n      },\r\n      //重置表单\r\n      handleReset(name) {\r\n        this.accountId = 0;\r\n        this.formItem = {\r\n          account: \"\",\r\n          password: \"\",\r\n          role: \"role\",\r\n          nickname: \"\"\r\n        };\r\n        this.getLinkList();\r\n      },\r\n      //取消\r\n      handCancel(){\r\n        var self = this;\r\n        self.$router.push({\r\n          path: \"/account\"\r\n        });\r\n      },\r\n      //获取角色列表\r\n      getRole() {\r\n        var self = this;\r\n        this.$http.get(global.url.role_list).then(result => {\r\n          self.roleList = result;\r\n        });\r\n      },\r\n      //获取链接列表\r\n      getLinkList() {\r\n        var self = this;\r\n        this.$http.get(global.url.role_linklist).then(result => {\r\n          self.jsonLink(result);\r\n        });\r\n      },\r\n      //序列化链接列表\r\n      jsonLink(data) {\r\n        var self = this;\r\n        //初始化数组\r\n        self.linkList = [];\r\n        if (data) {\r\n          var itemLink = [];\r\n\r\n          data.forEach(item => {\r\n            //console.log(item);\r\n            if(item.parentLinkId === null){\r\n              itemLink.push({\r\n                key: item.linkId,\r\n                //一级菜单名称\r\n                title: item.name,\r\n                //是否展开\r\n                expand: false,\r\n                //子级菜单集合\r\n                children: []\r\n              })\r\n            }\r\n          })\r\n\r\n          data.forEach(item1 => {\r\n            itemLink.forEach(item2 => {\r\n              if(item1.parentLinkId == item2.key){\r\n                item2.children.push({\r\n                  key: item1.linkId,\r\n                  //一级菜单名称\r\n                  title: item1.name,\r\n                  //是否展开\r\n                  expand: true,\r\n                  //子级菜单集合\r\n                  children: []\r\n                })\r\n              }\r\n            })\r\n          })\r\n\r\n          data.forEach(item3 => {\r\n            itemLink.forEach(item4 => {\r\n              //console.log(item4);\r\n              item4.children.forEach(item5 => {\r\n                if(item3.parentLinkId == item5.key){\r\n                  item5.children.push({\r\n                    key: item3.linkId,\r\n                    //一级菜单名称\r\n                    title: item3.name,\r\n                    //是否展开\r\n                    expand: true,\r\n                  })\r\n                }\r\n              })\r\n            })\r\n          })\r\n          if (itemLink) {\r\n            self.linkList.push(itemLink);\r\n          }\r\n          //console.log(itemLink)\r\n         // console.log(itemLink)\r\n\r\n          //定义绑定列表数据\r\n/*          data.forEach(item => {\r\n            var itemLink;\r\n            //初始化一级菜单\r\n            if (item.parentLinkId === null) {\r\n              itemLink = [];\r\n              //添加一级菜单数据\r\n              itemLink.push({\r\n                key: item.linkId,\r\n                //一级菜单名称\r\n                title: item.name,\r\n                //是否展开\r\n                expand: false,\r\n                //子级菜单集合\r\n                children: []\r\n              });\r\n            }\r\n            //根据parentLinkId 父ID查询子级菜单\r\n            data.find(function(value, index, arr) {\r\n              //将当前级别ID去搜索是否存在子级菜单\r\n              if (item.linkId == value.parentLinkId) {\r\n                //将查询出的子级菜单循环加入子级菜单中\r\n                itemLink.map(element => {\r\n                  element.children.push({\r\n                    title: value.name,\r\n                    key: value.linkId,\r\n                    checked: false //选中\r\n                  });\r\n                });\r\n              }\r\n            });\r\n            if (itemLink) {\r\n              self.linkList.push(itemLink);\r\n            }\r\n          });*/\r\n        }\r\n      }\r\n    }\r\n  };\r\n</script>\r\n\n\n\n// WEBPACK FOOTER //\n// src/views/account/add.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[(_vm.isRoterAlive)?_c('router-view',[_vm._v(\"1\")]):_vm._e(),_vm._v(\" \"),_c('Card',{attrs:{\"bordered\":false}},[_c('Form',{attrs:{\"label-width\":80},model:{value:(_vm.formItem),callback:function ($$v) {_vm.formItem=$$v},expression:\"formItem\"}},[_c('FormItem',{attrs:{\"label\":\"用户昵称:\"}},[_c('Input',{staticStyle:{\"width\":\"300px\"},attrs:{\"maxlength\":20,\"type\":\"text\",\"placeholder\":\"请输入昵称...\"},model:{value:(_vm.formItem.nickname),callback:function ($$v) {_vm.$set(_vm.formItem, \"nickname\", $$v)},expression:\"formItem.nickname\"}})],1),_vm._v(\" \"),_c('FormItem',{attrs:{\"label\":\"登录账户:\"}},[_c('Input',{staticStyle:{\"width\":\"300px\"},attrs:{\"maxlength\":20,\"type\":\"text\",\"placeholder\":\"请输入账号...\"},on:{\"on-blur\":function($event){_vm.exists()}},model:{value:(_vm.formItem.account),callback:function ($$v) {_vm.$set(_vm.formItem, \"account\", $$v)},expression:\"formItem.account\"}})],1),_vm._v(\" \"),(_vm.accountId==0)?_c('FormItem',{attrs:{\"label\":\"登录密码:\"}},[_c('Input',{staticStyle:{\"width\":\"300px\"},attrs:{\"maxlength\":20,\"type\":\"password\",\"placeholder\":\"请输入密码...\"},model:{value:(_vm.formItem.password),callback:function ($$v) {_vm.$set(_vm.formItem, \"password\", $$v)},expression:\"formItem.password\"}}),_vm._v(\" \"),_c('small',{staticStyle:{\"color\":\"red\"}},[_vm._v(\"默认为:123456\")])],1):_vm._e(),_vm._v(\" \"),_c('FormItem',{attrs:{\"label\":\"选择角色:\"}},_vm._l((_vm.roleList),function(item,idx){return _c('RadioGroup',{key:idx,on:{\"on-change\":function($event){_vm.selectLink()}},model:{value:(_vm.formItem.role),callback:function ($$v) {_vm.$set(_vm.formItem, \"role\", $$v)},expression:\"formItem.role\"}},[_c('Radio',{attrs:{\"label\":item.roleId}},[_vm._v(_vm._s(item.roleName))])],1)})),_vm._v(\" \"),_c('FormItem',{attrs:{\"label\":\"选择权限:\"}},[_c('Col',[_c('FormItem',_vm._l((_vm.linkList),function(item,idx){return _c('Card',{key:idx,staticStyle:{\"width\":\"300px\"},attrs:{\"bordered\":false}},[_c('Tree',{ref:\"Tree\",refInFor:true,attrs:{\"data\":item,\"show-checkbox\":\"\"}})],1)}))],1)],1),_vm._v(\" \"),_c('FormItem',[_c('Button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){_vm.save('ruleForm')}}},[_vm._v(\"保存\")]),_vm._v(\" \"),_c('Button',{staticStyle:{\"margin-left\":\"8px\"},attrs:{\"type\":\"ghost\"},on:{\"click\":_vm.handCancel}},[_vm._v(\"取消\")])],1)],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-7e398b1c\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/account/add.vue\n// module id = null\n// module chunks = ","var normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./add.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./add.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-7e398b1c\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./add.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/account/add.vue\n// module id = null\n// module chunks = ","module.exports = { \"default\": require(\"core-js/library/fn/json/stringify\"), __esModule: true };\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/babel-runtime/core-js/json/stringify.js\n// module id = mvHQ\n// module chunks = 1 2","var core = require('../../modules/_core');\nvar $JSON = core.JSON || (core.JSON = { stringify: JSON.stringify });\nmodule.exports = function stringify(it) { // eslint-disable-line no-unused-vars\n  return $JSON.stringify.apply($JSON, arguments);\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/fn/json/stringify.js\n// module id = qkKv\n// module chunks = 1 2"],"sourceRoot":""}