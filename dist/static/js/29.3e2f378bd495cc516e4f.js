webpackJsonp([29],{fPbB:function(t,a,e){"use strict";(function(t){var r=e("pFYg"),i=e.n(r);a.a={data:function(){return{id:this.$route.query.id,formValidate:{website:"",mark:"",gid:"",rand:"",sort:""},ruleValidate:{website:[{required:!0,message:"录入域名不能为空",trigger:"blur"},{validator:function(t,a,e){var r=new RegExp;r.compile("^(?=^.{3,255}$)(www\\.)[a-zA-Z0-9][-a-zA-Z0-9]{0,62}(\\.[a-zA-Z0-9][-a-zA-Z0-9]{0,62})+(:\\d+)*(\\/\\w+\\.\\w+)*$"),""==a?e(new Error("录入域名不能为空")):r.test(a)?e():e(new Error("录入域名格式不正确"))},trigger:"blur"}],mark:[{required:!0,message:"录入分类不能为空",trigger:"change"}],rand:[{required:!0,message:"请选择是否随机",trigger:"change"}]},markList:[{value:"1",label:"A1"},{value:"2",label:"A2"},{value:"3",label:"B1"},{value:"4",label:"C1"}]}},created:function(){this.id&&this.getData(this.id)},methods:{handleSubmit:function(t){var a=this;this.$refs[t].validate(function(t){t&&a.sendData()})},handleReset:function(t){this.$refs[t].resetFields()},sendData:function(){var a=this,e=this.id,r=this.formValidate.website;this.$http.post(t.url.domain_add,{website:r,mark:this.formValidate.mark,gid:this.formValidate.gid,rand:this.formValidate.rand,sort:this.formValidate.sort,id:e}).then(function(t){t.status?(a.$Message.success(t.msg),setTimeout(function(){a.$router.push({path:"/domain/domain-list"})},1500)):a.$Message.error(t.msg)})},getData:function(a){var e=this;this.$http.post(t.url.domain_one_list,{id:a}).then(function(t){console.log(i()(t.data[0].rand)),t.status&&(e.formValidate.website=t.data[0].domain,e.formValidate.mark=t.data[0].mark.toString(),e.formValidate.rand=t.data[0].rand.toString(),e.formValidate.gid=t.data[0].gid,e.formValidate.sort=t.data[0].sort)})}}}}).call(a,e("DuR2"))},nN61:function(t,a){},"t/Fg":function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var r=e("fPbB"),i={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"add-title"},[e("Form",{ref:"formValidate",attrs:{model:t.formValidate,rules:t.ruleValidate,"label-width":80}},[e("FormItem",{staticStyle:{width:"320px"},attrs:{label:"域名",prop:"website"}},[e("Input",{attrs:{placeholder:"请输入域名..."},model:{value:t.formValidate.website,callback:function(a){t.$set(t.formValidate,"website",a)},expression:"formValidate.website"}})],1),t._v(" "),e("FormItem",{staticStyle:{width:"320px"},attrs:{label:"分类",prop:"mark"}},[e("Select",{attrs:{placeholder:"请选择域名分类..."},model:{value:t.formValidate.mark,callback:function(a){t.$set(t.formValidate,"mark",a)},expression:"formValidate.mark"}},t._l(t.markList,function(a){return e("Option",{key:a.value,attrs:{value:a.value}},[t._v(t._s(a.label))])}))],1),t._v(" "),e("FormItem",{staticStyle:{width:"320px"},attrs:{label:"公众号ID",prop:"gid"}},[e("Input",{attrs:{placeholder:"请输入公众号ID..."},model:{value:t.formValidate.gid,callback:function(a){t.$set(t.formValidate,"gid",a)},expression:"formValidate.gid"}})],1),t._v(" "),e("FormItem",{staticStyle:{width:"320px"},attrs:{label:"是否随机",prop:"rand"}},[e("RadioGroup",{model:{value:t.formValidate.rand,callback:function(a){t.$set(t.formValidate,"rand",a)},expression:"formValidate.rand"}},[e("Radio",{attrs:{label:"1"}},[t._v("不随机")]),t._v(" "),e("Radio",{attrs:{label:"2"}},[t._v("随机")])],1)],1),t._v(" "),e("FormItem",{staticStyle:{width:"320px"},attrs:{label:"排序",prop:"sort"}},[e("Input",{attrs:{placeholder:"请输入序号..."},model:{value:t.formValidate.sort,callback:function(a){t.$set(t.formValidate,"sort",a)},expression:"formValidate.sort"}})],1),t._v(" "),e("FormItem",[e("Button",{attrs:{type:"primary"},on:{click:function(a){t.handleSubmit("formValidate")}}},[t._v("提交")]),t._v(" "),e("Button",{staticStyle:{"margin-left":"8px"},on:{click:function(a){t.handleReset("formValidate")}}},[t._v("重置")])],1)],1)],1)},staticRenderFns:[]};var l=function(t){e("nN61")},o=e("VU/8")(r.a,i,!1,l,null,null);a.default=o.exports}});
//# sourceMappingURL=29.3e2f378bd495cc516e4f.js.map